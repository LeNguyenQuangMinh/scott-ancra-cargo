{
  "components/themevale/fytm": "<div id=\"fytm-block\" class=\"footer-info-list\">\r\n    <h3 class=\"fytm-title\">Find Your <span>Territory Manager </span></h3>\r\n    <form id=\"fytm-form\">\r\n        <input type=\"text\" id=\"fytmZip\" placeholder=\"Enter Zip Code\">\r\n        <button type=\"submit\" class=\"btn btn-primary\" id=\"fytmSubmit\">\r\n            <span class=\"locator-btn--text btn-text\">Find Us</span>\r\n            <span class=\"locator-btn--icon btn-icon\">\r\n                <svg class=\"icon\" aria-hidden=\"true\"><use xlink:href=\"#icon-custom-arrow\"></use></svg>\r\n            </span>\r\n        </button>\r\n        <!-- <input type=\"submit\" id=\"fytmSubmit\" placeholder=\"Search\"> -->\r\n    </form>\r\n     <div id=\"fytmResult\" style=\"display: none;\" data-email data-customer-zip=\"{{customer.shipping_address.zip}}\">\r\n        <div class=\"fytmResult-photo\">\r\n            <img src=\"//\" alt=\"manager-picture\">\r\n        </div>\r\n        <div class=\"fytmResult-contact\">\r\n            <span class=\"fytmResult-name\"></span>\r\n            <a href=\"javascript:void(0)\" class=\"fytmResult-phone\"></a>\r\n            <a class=\"fytmResult-btnRequest\" href=\"javascript:void(0)\" data-reveal-id=\"fytm-Request\">Send a message / Request</a>\r\n        </div>\r\n    </div>\r\n    <div class=\"fytmResult-loading\" style=\"display: none\">\r\n        <img src=\"{{cdn 'img/ajax-loader.gif'}}\" />\r\n    </div>\r\n    <div class=\"fytmResult-notFount\" style=\"display: none\">\r\n        <p>Territory Manager Not Found</p>\r\n    </div>\r\n</div>\r\n\r\n<div id=\"fytm-Request\" class=\"modal\" data-reveal>\r\n    <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n            <h2 class=\"modal-header-title\">Request More Info</h2>\r\n            <a href=\"#\" class=\"modal-close\" aria-label=\"{{lang 'common.close'}}\" role=\"button\">\r\n                <span aria-hidden=\"true\">&#215;</span>\r\n            </a>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n            <div id=\"fytm_contactResults\"></div>\r\n            <div class=\"form-inner\">\r\n                <form class=\"form\" id=\"fytm-formRequest\">\r\n                    <fieldset class=\"form-fieldset\">\r\n                        <div class=\"form-field\">\r\n                            <label class=\"form-label\" for=\"fytmForm_name\">Name:</label>\r\n                            <input required=\"true\" type=\"text\" class=\"form-input\" id=\"fytmForm_name\" name=\"fytmForm_name\" placeholder=\"\" value=\"\">\r\n                        </div>\r\n                        <div class=\"form-field\">\r\n                            <label class=\"form-label\" for=\"fytmForm_email\">Email:</label>\r\n                            <input required=\"true\" type=\"text\" class=\"form-input\" id=\"fytmForm_email\" name=\"fytmForm_email\" placeholder=\"\" value=\"\">\r\n                        </div>\r\n                        <div class=\"form-field\">\r\n                            <label class=\"form-label\" for=\"fytmForm_phone\">Phone:</label>\r\n                            <input required=\"true\" type=\"text\" class=\"form-input\" id=\"fytmForm_phone\" name=\"fytmForm_phone\" placeholder=\"\" value=\"\">\r\n                        </div>\r\n                        <div class=\"form-field\">\r\n                            <label class=\"form-label\" for=\"fytmForm_PostalCode\">Postal Code:</label>\r\n                            <input required=\"true\" type=\"text\" class=\"form-input\" id=\"fytmForm_PostalCode\" name=\"fytmForm_PostalCode\" placeholder=\"\" value=\"\">\r\n                        </div>\r\n                        <div class=\"form-field\">\r\n                            <label class=\"form-label\" for=\"fytmForm_comment\">Message:</label>\r\n                            <textarea name=\"fytmForm_comment\" cols=\"30\" rows=\"2\" class=\"form-input\" id=\"fytmForm_comment\" required=\"true\"></textarea>\r\n                        </div>\r\n                        <div class=\"form-actions\">\r\n                            <button type=\"button\" class=\"button button--primary\" id=\"fytmForm_submit\">Submit</button>\r\n                        </div>\r\n                    </fieldset>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<script type=\"text/javascript\" src=\"//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js\"></script>\r\n<script type=\"text/javascript\">\r\n    $(document).ready(function() {\r\n        $(\"#fytmForm_submit\").click(function() {\r\n            var ask_proceed = true;\r\n            //simple validation at client's end\r\n            //loop through each field and we simply change border color to red for invalid fields\r\n            $(\"#fytm-formRequest input[required=true], #fytm-formRequest textarea[required=true]\").each(function() {\r\n                if (!$.trim($(this).val())) { //if this field is empty\r\n                    $(this).parent('.form-field').removeClass('form-field--success').addClass('form-field--error');\r\n                    ask_proceed = false; //set do not proceed flag\r\n                } else {\r\n                    $(this).parent('.form-field').removeClass('form-field--error').addClass('form-field--success');\r\n                }\r\n                //check invalid email\r\n                var email_reg = /^([\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4})?$/;\r\n                if ($(this).attr(\"name\") == \"fytmForm_email\" && !email_reg.test($.trim($(this).val()))) {\r\n                    $(this).parent('.form-field').removeClass('form-field--success').addClass('form-field--error');\r\n                    ask_proceed = false; //set do not proceed flag\r\n                }\r\n            });\r\n\r\n            if (ask_proceed) //everything looks good! proceed...\r\n            {\r\n                //get input field values data to be sent to server\r\n                ask_post_data = {\r\n                    'api': 'i_send_mail',\r\n                    'subject':   'Request More Info',\r\n                    'from_name': $('#fytm-formRequest input[name=fytmForm_email]').val(),\r\n                    'email':     $('#fytmResult').data('email'),\r\n                    'email_from': $('#fytm-formRequest input[name=fytmForm_email]').val(),\r\n                    'message': '<h2>Request More Info</h2><table>\\\r\n                            <tr><td><strong>Name:</strong></td><td>' + $('#fytm-formRequest input[name=fytmForm_name]').val() + '</td></tr>\\\r\n                            <tr><td><strong>Email:</strong></td><td>' + $('#fytm-formRequest input[name=fytmForm_email]').val() + '</td></tr>\\\r\n                            <tr><td><strong>Phone:</strong></td><td>' + $('#fytm-formRequest input[name=fytmForm_phone]').val() + '</td></tr>\\\r\n                            <tr><td><strong>Postal Code:</strong></td><td>' + $('#fytm-formRequest input[name=fytmForm_PostalCode]').val() + '</td></tr>\\\r\n                            <tr><td><strong>Message:</strong></td><td>' + $('#fytm-formRequest textarea[name=fytmForm_comment]').val() + '</td></tr>\\\r\n                        </table>'\r\n                };\r\n\r\n                //Ajax post data to server\r\n                $.post('https://themevale.net/tools/sendmail/quotecart/sendmail.php', ask_post_data, function(response) {\r\n                    if (response.type == 'error') { //load json data from server and output message\r\n                        output = '<div class=\"error\">' + response.text + '</div>';\r\n                    } else {\r\n                        output = '<div class=\"alert alert-success\">Thank you. We\\'ve received your feedback and will respond shortly.</div>';\r\n                        //reset values in all input fields\r\n                        $(\"#fytm-formRequest  input[required=true], #fytm-formRequest textarea[required=true]\").val('');\r\n                        $(\".form-inner\").hide(); //hide form after success\r\n                    }\r\n                    $(\"#fytm_contactResults\").hide().html(output).show();\r\n                }, 'json');\r\n            }\r\n        });\r\n\r\n        //reset previously set border colors and hide all message on .keyup()\r\n        $(\"#fytm-formRequest input[required=true], #fytm-formRequest textarea[required=true]\").keyup(function() {\r\n            if (!$.trim($(this).val())) { //if this field is empty\r\n                $(this).parent('.form-field').removeClass('form-field--success').addClass('form-field--error');\r\n                ask_proceed = false; //set do not proceed flag\r\n            } else {\r\n                $(this).parent('.form-field').removeClass('form-field--error').addClass('form-field--success');\r\n            }\r\n            //check invalid email\r\n            var email_reg = /^([\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4})?$/;\r\n            if ($(this).attr(\"name\") == \"fytmForm_email\" && !email_reg.test($.trim($(this).val()))) {\r\n                $(this).parent('.form-field').removeClass('form-field--success').addClass('form-field--error');\r\n                ask_proceed = false; //set do not proceed flag\r\n            }\r\n            $(\"#fytm_contactResults\").hide();\r\n        });\r\n    });\r\n</script>\r\n"
}